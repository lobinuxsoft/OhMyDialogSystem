<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Technical Documentation - OhMyDialogSystem Wiki</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="neural-bg"></canvas>

  <div class="wiki-container">
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo-icon"><img src="../icon.svg" alt="OhMyDialogSystem"></div>
        <div class="sidebar-logo">OhMyDialogSystem</div>
        <div class="sidebar-subtitle">AI-Powered Dialogues</div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">General</div>
        <ul class="nav-links">
          <li><a href="../index.html"><span class="icon">ğŸ </span> Home</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Getting Started</div>
        <ul class="nav-links">
          <li><a href="../Guides/quickstart.html"><span class="icon">ğŸš€</span> Quick Start</a></li>
          <li><a href="../Guides/installation.html"><span class="icon">ğŸ“¦</span> Installation</a></li>
          <li><a href="../Guides/first-npc.html"><span class="icon">ğŸ®</span> Your First NPC</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">API Reference</div>
        <ul class="nav-links">
          <li><a href="../API/index.html"><span class="icon">ğŸ“š</span> Overview</a></li>
          <li><a href="../API/llama-interface.html"><span class="icon">ğŸ¦™</span> LlamaInterface</a></li>
          <li><a href="../API/dialogue-manager.html"><span class="icon">ğŸ’¬</span> DialogueManager</a></li>
          <li><a href="../API/memory-manager.html"><span class="icon">ğŸ§ </span> MemoryManager</a></li>
          <li><a href="../API/tts-manager.html"><span class="icon">ğŸ”Š</span> TTSManager</a></li>
          <li><a href="../API/resources.html"><span class="icon">ğŸ“„</span> Resources</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Technical</div>
        <ul class="nav-links">
          <li><a href="index.html" class="active"><span class="icon">âš™ï¸</span> Overview</a></li>
          <li><a href="architecture.html"><span class="icon">ğŸ—ï¸</span> Architecture</a></li>
          <li><a href="dialogue-nodes.html"><span class="icon">ğŸ”·</span> Dialogue Nodes</a></li>
          <li><a href="gdextension.html"><span class="icon">ğŸ”§</span> GDExtension Build</a></li>
          <li><a href="memory-system.html"><span class="icon">ğŸ’¾</span> Memory System</a></li>
          <li><a href="localization.html"><span class="icon">ğŸŒ</span> Localization</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Guides</div>
        <ul class="nav-links">
          <li><a href="../Guides/index.html"><span class="icon">ğŸ“–</span> Overview</a></li>
          <li><a href="../Guides/visual-editor.html"><span class="icon">ğŸ¨</span> Visual Editor</a></li>
          <li><a href="../Guides/character-identity.html"><span class="icon">ğŸ‘¤</span> Character Identity</a></li>
          <li><a href="../Guides/tts-setup.html"><span class="icon">ğŸ¤</span> TTS Setup</a></li>
          <li><a href="../Guides/csharp-bindings.html"><span class="icon">ğŸ”·</span> C# Bindings</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Examples</div>
        <ul class="nav-links">
          <li><a href="../Guides/example-basic-npc.html"><span class="icon">ğŸ¤–</span> Basic NPC</a></li>
          <li><a href="../Guides/example-branching.html"><span class="icon">ğŸŒ³</span> Branching Dialogue</a></li>
          <li><a href="../Guides/example-merchant.html"><span class="icon">ğŸ›’</span> Dynamic Merchant</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">External Links</div>
        <ul class="nav-links">
          <li><a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank"><span class="icon">ğŸ”—</span> GitHub Repository</a></li>
          <li><a href="https://github.com/users/lobinuxsoft/projects/5" target="_blank"><span class="icon">ğŸ“‹</span> Project Board</a></li>
          <li><a href="https://github.com/lobinuxsoft/OhMyDialogSystem/issues" target="_blank"><span class="icon">ğŸ›</span> Issues</a></li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <div class="breadcrumbs">
        <a href="../index.html">Wiki</a> <span>/</span> <span>Technical</span>
      </div>

      <h1>Technical Documentation</h1>

      <p>DocumentaciÃ³n tÃ©cnica detallada sobre la arquitectura, compilaciÃ³n y sistemas internos de OhMyDialogSystem.</p>

      <hr>

      <h2>Contenido</h2>

      <div class="feature-grid">
        <div class="feature-card">
          <span class="icon">ğŸ—ï¸</span>
          <h3><a href="architecture.html">Architecture</a></h3>
          <p>VisiÃ³n general de la arquitectura del sistema, diagramas de clases y flujos de datos.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸ”·</span>
          <h3><a href="dialogue-nodes.html">Dialogue Nodes</a></h3>
          <p>CatÃ¡logo visual de nodos del editor. Sistema hÃ­brido grafo + IA.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸ”§</span>
          <h3><a href="gdextension.html">GDExtension Build</a></h3>
          <p>GuÃ­a para compilar el addon desde cÃ³digo fuente. Requisitos, SCons, plataformas.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸ’¾</span>
          <h3><a href="memory-system.html">Memory System</a></h3>
          <p>DiseÃ±o del sistema de memorias persistentes y bÃºsqueda semÃ¡ntica.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸŒ</span>
          <h3><a href="localization.html">Localization</a></h3>
          <p>IntegraciÃ³n con TranslationServer y plantillas de prompts multi-idioma.</p>
        </div>
      </div>

      <hr>

      <h2>Stack TecnolÃ³gico</h2>

      <table>
        <thead>
          <tr>
            <th>Componente</th>
            <th>TecnologÃ­a</th>
            <th>PropÃ³sito</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Game Engine</td>
            <td>Godot 4.5+</td>
            <td>Motor base del addon</td>
          </tr>
          <tr>
            <td>Native Bindings</td>
            <td>GDExtension + godot-cpp</td>
            <td>Exponer C++ a GDScript/C#</td>
          </tr>
          <tr>
            <td>LLM Inference</td>
            <td>llama.cpp</td>
            <td>Ejecutar modelos GGUF localmente</td>
          </tr>
          <tr>
            <td>Text-to-Speech</td>
            <td>Piper TTS</td>
            <td>SÃ­ntesis de voz offline</td>
          </tr>
          <tr>
            <td>Build System</td>
            <td>SCons</td>
            <td>CompilaciÃ³n multiplataforma</td>
          </tr>
        </tbody>
      </table>

      <hr>

      <h2>Estructura del Proyecto</h2>

      <style>
        .file-tree {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 1.5rem;
          font-family: var(--font-mono);
          font-size: 0.85rem;
        }
        .file-tree ul {
          list-style: none;
          padding-left: 0;
          margin: 0;
        }
        .file-tree ul ul {
          padding-left: 1.5rem;
          border-left: 1px dashed var(--border-color);
          margin-left: 0.5rem;
        }
        .file-tree li {
          padding: 0.3rem 0;
          position: relative;
        }
        .file-tree .item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }
        .file-tree .icon {
          font-size: 1rem;
        }
        .file-tree .name {
          color: var(--text-primary);
        }
        .file-tree .name.folder {
          color: var(--ai-cyan);
          font-weight: 500;
        }
        .file-tree .name.file {
          color: var(--text-secondary);
        }
        .file-tree .comment {
          color: var(--text-muted);
          font-size: 0.75rem;
          margin-left: auto;
          font-style: italic;
        }
        .file-tree .section {
          margin-top: 0.75rem;
          padding-top: 0.75rem;
          border-top: 1px solid var(--border-color);
        }
        .file-tree .section:first-child {
          margin-top: 0;
          padding-top: 0;
          border-top: none;
        }
        .tree-header {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding-bottom: 1rem;
          margin-bottom: 1rem;
          border-bottom: 1px solid var(--border-color);
        }
        .tree-header .icon {
          font-size: 1.5rem;
        }
        .tree-header .title {
          color: var(--ai-purple);
          font-weight: 600;
        }
      </style>

      <div class="file-tree">
        <div class="tree-header">
          <span class="icon">ğŸ“¦</span>
          <span class="title">addons/ohmydialog/</span>
        </div>
        <ul>
          <li>
            <div class="item">
              <span class="icon">ğŸ“„</span>
              <span class="name file">plugin.cfg</span>
              <span class="comment">Metadata del addon</span>
            </div>
          </li>
          <li>
            <div class="item">
              <span class="icon">ğŸ“œ</span>
              <span class="name file">plugin.gd</span>
              <span class="comment">EditorPlugin principal</span>
            </div>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">âš™ï¸</span>
              <span class="name folder">gdextension/</span>
              <span class="comment">Codigo C++ nativo</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“</span><span class="name folder">godot-cpp/</span><span class="comment">Submodule</span></div></li>
              <li>
                <div class="item"><span class="icon">ğŸ“</span><span class="name folder">thirdparty/</span></div>
                <ul>
                  <li><div class="item"><span class="icon">ğŸ¦™</span><span class="name folder">llama.cpp/</span><span class="comment">Submodule</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ”Š</span><span class="name folder">piper/</span><span class="comment">Submodule</span></div></li>
                </ul>
              </li>
              <li>
                <div class="item"><span class="icon">ğŸ“</span><span class="name folder">src/</span></div>
                <ul>
                  <li><div class="item"><span class="icon">ğŸ“„</span><span class="name file">llama_interface.h/.cpp</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“„</span><span class="name file">piper_interface.h/.cpp</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“„</span><span class="name file">register_types.h/.cpp</span></div></li>
                </ul>
              </li>
              <li><div class="item"><span class="icon">ğŸ”§</span><span class="name file">SConstruct</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“„</span><span class="name file">ohmydialog.gdextension</span></div></li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ’¬</span>
              <span class="name folder">core/</span>
              <span class="comment">Managers principales</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">dialogue_manager.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">context_manager.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">conversation_history.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">prompt_builder.gd</span></div></li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ“¦</span>
              <span class="name folder">resources/</span>
              <span class="comment">Custom Resources</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ‘¤</span><span class="name file">character_identity.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸŒ</span><span class="name file">world_context.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ”·</span><span class="name file">dialogue_graph.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ¤–</span><span class="name file">ai_preset.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ¤</span><span class="name file">voice_profile.gd</span></div></li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ¨</span>
              <span class="name folder">editor/</span>
              <span class="comment">Editor visual</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">dialogue_graph_editor.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ¬</span><span class="name file">dialogue_graph_editor.tscn</span></div></li>
              <li>
                <div class="item"><span class="icon">ğŸ“</span><span class="name folder">nodes/</span></div>
                <ul>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">base_dialogue_node.gd</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">start_node.gd</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">ai_response_node.gd</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">player_choice_node.gd</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">condition_node.gd</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">event_node.gd</span></div></li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ§ </span>
              <span class="name folder">memory/</span>
              <span class="comment">Sistema de memorias</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">memory_manager.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">memory_store.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">memory_embeddings.gd</span></div></li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ”Š</span>
              <span class="name folder">tts/</span>
              <span class="comment">Text-to-Speech</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">tts_manager.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">tts_cache.gd</span></div></li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸŒ</span>
              <span class="name folder">localization/</span>
              <span class="comment">Sistema de idiomas</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">locale_manager.gd</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“œ</span><span class="name file">prompt_translator.gd</span></div></li>
              <li>
                <div class="item"><span class="icon">ğŸ“</span><span class="name folder">templates/</span></div>
                <ul>
                  <li><div class="item"><span class="icon">ğŸ‡ªğŸ‡¸</span><span class="name file">es.txt</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ‡ºğŸ‡¸</span><span class="name file">en.txt</span></div></li>
                  <li><div class="item"><span class="icon">ğŸ‡§ğŸ‡·</span><span class="name file">pt.txt</span></div></li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="section">
            <div class="item">
              <span class="icon">ğŸ“š</span>
              <span class="name folder">examples/</span>
              <span class="comment">Ejemplos de uso</span>
            </div>
            <ul>
              <li><div class="item"><span class="icon">ğŸ“</span><span class="name folder">basic_npc/</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“</span><span class="name folder">branching_dialogue/</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“</span><span class="name folder">persistent_memory/</span></div></li>
              <li><div class="item"><span class="icon">ğŸ“</span><span class="name folder">dynamic_merchant/</span></div></li>
            </ul>
          </li>
        </ul>
      </div>

      <hr>

      <h2>Dependencias</h2>

      <h3>Submodules</h3>

      <table>
        <thead>
          <tr>
            <th>Submodule</th>
            <th>VersiÃ³n</th>
            <th>Path</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>godot-cpp</td>
            <td>4.3+</td>
            <td><code>gdextension/godot-cpp/</code></td>
          </tr>
          <tr>
            <td>llama.cpp</td>
            <td>latest</td>
            <td><code>gdextension/thirdparty/llama.cpp/</code></td>
          </tr>
          <tr>
            <td>piper</td>
            <td>latest</td>
            <td><code>gdextension/thirdparty/piper/</code></td>
          </tr>
        </tbody>
      </table>

      <h3>Requisitos de CompilaciÃ³n</h3>

      <ul>
        <li><strong>Windows:</strong> MSVC 2019+ o MinGW-w64</li>
        <li><strong>Linux:</strong> GCC 11+ o Clang 14+</li>
        <li><strong>macOS:</strong> Xcode Command Line Tools</li>
        <li><strong>Todos:</strong> Python 3.8+, SCons 4.0+</li>
      </ul>

      <div class="callout-info">
        <p>Para instrucciones detalladas de compilaciÃ³n, ver <a href="gdextension.html">GDExtension Build Guide</a>.</p>
      </div>

      <hr>

      <h2>Principios de DiseÃ±o</h2>

      <h3>1. Modularidad</h3>
      <p>Cada sistema (LLM, TTS, Memory) es independiente y puede usarse por separado.</p>

      <h3>2. Performance</h3>
      <ul>
        <li>Inferencia LLM en thread separado</li>
        <li>Streaming de tokens para UI responsiva</li>
        <li>Cache de audio TTS</li>
        <li>Lazy loading de recursos</li>
      </ul>

      <h3>3. Extensibilidad</h3>
      <ul>
        <li>Nodos de diÃ¡logo custom via herencia</li>
        <li>Templates de prompts configurables</li>
        <li>Signals para integraciÃ³n con sistemas del juego</li>
      </ul>

      <h3>4. Offline-First</h3>
      <p>Todo funciona sin conexiÃ³n a internet. Sin APIs externas, sin telemetrÃ­a.</p>

      <hr>

      <a href="../index.html">â† Volver a Home</a>

      <footer class="wiki-footer">
        <p>OhMyDialogSystem Wiki | <a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank">GitHub</a></p>
      </footer>
    </main>
  </div>

  <script src="../ai-bg.js"></script>
</body>
</html>
