<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Technical Documentation - OhMyDialogSystem Wiki</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="neural-bg"></canvas>

  <div class="wiki-container">
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo-icon">ğŸ§ </div>
        <div class="sidebar-logo">OhMyDialogSystem</div>
        <div class="sidebar-subtitle">AI-Powered Dialogues</div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">General</div>
        <ul class="nav-links">
          <li><a href="../index.html"><span class="icon">ğŸ </span> Home</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Getting Started</div>
        <ul class="nav-links">
          <li><a href="../Guides/quickstart.html"><span class="icon">ğŸš€</span> Quick Start</a></li>
          <li><a href="../Guides/installation.html"><span class="icon">ğŸ“¦</span> Installation</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">API Reference</div>
        <ul class="nav-links">
          <li><a href="../API/index.html"><span class="icon">ğŸ“š</span> Overview</a></li>
          <li><a href="../API/llama-interface.html"><span class="icon">ğŸ¦™</span> LlamaInterface</a></li>
          <li><a href="../API/dialogue-manager.html"><span class="icon">ğŸ’¬</span> DialogueManager</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Technical</div>
        <ul class="nav-links">
          <li><a href="index.html" class="active"><span class="icon">âš™ï¸</span> Overview</a></li>
          <li><a href="architecture.html"><span class="icon">ğŸ—ï¸</span> Architecture</a></li>
          <li><a href="gdextension.html"><span class="icon">ğŸ”§</span> GDExtension Build</a></li>
          <li><a href="memory-system.html"><span class="icon">ğŸ’¾</span> Memory System</a></li>
          <li><a href="localization.html"><span class="icon">ğŸŒ</span> Localization</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">External Links</div>
        <ul class="nav-links">
          <li><a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank"><span class="icon">ğŸ”—</span> GitHub Repository</a></li>
          <li><a href="https://github.com/users/lobinuxsoft/projects/5" target="_blank"><span class="icon">ğŸ“‹</span> Project Board</a></li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <div class="breadcrumbs">
        <a href="../index.html">Wiki</a> <span>/</span> <span>Technical</span>
      </div>

      <h1>Technical Documentation</h1>

      <p>DocumentaciÃ³n tÃ©cnica detallada sobre la arquitectura, compilaciÃ³n y sistemas internos de OhMyDialogSystem.</p>

      <hr>

      <h2>Contenido</h2>

      <div class="feature-grid">
        <div class="feature-card">
          <span class="icon">ğŸ—ï¸</span>
          <h3><a href="architecture.html">Architecture</a></h3>
          <p>VisiÃ³n general de la arquitectura del sistema, diagramas de clases y flujos de datos.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸ”§</span>
          <h3><a href="gdextension.html">GDExtension Build</a></h3>
          <p>GuÃ­a para compilar el addon desde cÃ³digo fuente. Requisitos, SCons, plataformas.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸ’¾</span>
          <h3><a href="memory-system.html">Memory System</a></h3>
          <p>DiseÃ±o del sistema de memorias persistentes y bÃºsqueda semÃ¡ntica.</p>
        </div>

        <div class="feature-card">
          <span class="icon">ğŸŒ</span>
          <h3><a href="localization.html">Localization</a></h3>
          <p>IntegraciÃ³n con TranslationServer y plantillas de prompts multi-idioma.</p>
        </div>
      </div>

      <hr>

      <h2>Stack TecnolÃ³gico</h2>

      <table>
        <thead>
          <tr>
            <th>Componente</th>
            <th>TecnologÃ­a</th>
            <th>PropÃ³sito</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Game Engine</td>
            <td>Godot 4.5+</td>
            <td>Motor base del addon</td>
          </tr>
          <tr>
            <td>Native Bindings</td>
            <td>GDExtension + godot-cpp</td>
            <td>Exponer C++ a GDScript/C#</td>
          </tr>
          <tr>
            <td>LLM Inference</td>
            <td>llama.cpp</td>
            <td>Ejecutar modelos GGUF localmente</td>
          </tr>
          <tr>
            <td>Text-to-Speech</td>
            <td>Piper TTS</td>
            <td>SÃ­ntesis de voz offline</td>
          </tr>
          <tr>
            <td>Build System</td>
            <td>SCons</td>
            <td>CompilaciÃ³n multiplataforma</td>
          </tr>
        </tbody>
      </table>

      <hr>

      <h2>Estructura del Proyecto</h2>

      <pre data-lang="TREE"><code>addons/ohmydialog/
â”œâ”€â”€ plugin.cfg                    # Metadata del addon
â”œâ”€â”€ plugin.gd                     # EditorPlugin principal
â”‚
â”œâ”€â”€ gdextension/                  # CÃ³digo C++ nativo
â”‚   â”œâ”€â”€ godot-cpp/               # Submodule
â”‚   â”œâ”€â”€ thirdparty/
â”‚   â”‚   â”œâ”€â”€ llama.cpp/           # Submodule
â”‚   â”‚   â””â”€â”€ piper/               # Submodule
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ llama_interface.h/.cpp
â”‚   â”‚   â”œâ”€â”€ piper_interface.h/.cpp
â”‚   â”‚   â””â”€â”€ register_types.h/.cpp
â”‚   â”œâ”€â”€ SConstruct
â”‚   â””â”€â”€ ohmydialog.gdextension
â”‚
â”œâ”€â”€ core/                         # Managers principales (GDScript)
â”‚   â”œâ”€â”€ dialogue_manager.gd
â”‚   â”œâ”€â”€ context_manager.gd
â”‚   â”œâ”€â”€ conversation_history.gd
â”‚   â””â”€â”€ prompt_builder.gd
â”‚
â”œâ”€â”€ resources/                    # Custom Resources
â”‚   â”œâ”€â”€ character_identity.gd
â”‚   â”œâ”€â”€ world_context.gd
â”‚   â”œâ”€â”€ dialogue_graph.gd
â”‚   â”œâ”€â”€ ai_preset.gd
â”‚   â””â”€â”€ voice_profile.gd
â”‚
â”œâ”€â”€ editor/                       # Editor visual
â”‚   â”œâ”€â”€ dialogue_graph_editor.gd
â”‚   â”œâ”€â”€ dialogue_graph_editor.tscn
â”‚   â””â”€â”€ nodes/
â”‚       â”œâ”€â”€ base_dialogue_node.gd
â”‚       â”œâ”€â”€ start_node.gd
â”‚       â”œâ”€â”€ ai_response_node.gd
â”‚       â”œâ”€â”€ player_choice_node.gd
â”‚       â”œâ”€â”€ condition_node.gd
â”‚       â””â”€â”€ event_node.gd
â”‚
â”œâ”€â”€ memory/                       # Sistema de memorias
â”‚   â”œâ”€â”€ memory_manager.gd
â”‚   â”œâ”€â”€ memory_store.gd
â”‚   â””â”€â”€ memory_embeddings.gd
â”‚
â”œâ”€â”€ tts/                          # Text-to-Speech
â”‚   â”œâ”€â”€ tts_manager.gd
â”‚   â””â”€â”€ tts_cache.gd
â”‚
â”œâ”€â”€ localization/                 # Sistema de idiomas
â”‚   â”œâ”€â”€ locale_manager.gd
â”‚   â”œâ”€â”€ prompt_translator.gd
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ es.txt
â”‚       â”œâ”€â”€ en.txt
â”‚       â””â”€â”€ pt.txt
â”‚
â”œâ”€â”€ examples/                     # Ejemplos de uso
â”‚   â”œâ”€â”€ basic_npc/
â”‚   â”œâ”€â”€ branching_dialogue/
â”‚   â”œâ”€â”€ persistent_memory/
â”‚   â””â”€â”€ dynamic_merchant/
â”‚
â””â”€â”€ docs/                         # Esta wiki
    â””â”€â”€ wiki/</code></pre>

      <hr>

      <h2>Dependencias</h2>

      <h3>Submodules</h3>

      <table>
        <thead>
          <tr>
            <th>Submodule</th>
            <th>VersiÃ³n</th>
            <th>Path</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>godot-cpp</td>
            <td>4.3+</td>
            <td><code>gdextension/godot-cpp/</code></td>
          </tr>
          <tr>
            <td>llama.cpp</td>
            <td>latest</td>
            <td><code>gdextension/thirdparty/llama.cpp/</code></td>
          </tr>
          <tr>
            <td>piper</td>
            <td>latest</td>
            <td><code>gdextension/thirdparty/piper/</code></td>
          </tr>
        </tbody>
      </table>

      <h3>Requisitos de CompilaciÃ³n</h3>

      <ul>
        <li><strong>Windows:</strong> MSVC 2019+ o MinGW-w64</li>
        <li><strong>Linux:</strong> GCC 11+ o Clang 14+</li>
        <li><strong>macOS:</strong> Xcode Command Line Tools</li>
        <li><strong>Todos:</strong> Python 3.8+, SCons 4.0+</li>
      </ul>

      <div class="callout-info">
        <p>Para instrucciones detalladas de compilaciÃ³n, ver <a href="gdextension.html">GDExtension Build Guide</a>.</p>
      </div>

      <hr>

      <h2>Principios de DiseÃ±o</h2>

      <h3>1. Modularidad</h3>
      <p>Cada sistema (LLM, TTS, Memory) es independiente y puede usarse por separado.</p>

      <h3>2. Performance</h3>
      <ul>
        <li>Inferencia LLM en thread separado</li>
        <li>Streaming de tokens para UI responsiva</li>
        <li>Cache de audio TTS</li>
        <li>Lazy loading de recursos</li>
      </ul>

      <h3>3. Extensibilidad</h3>
      <ul>
        <li>Nodos de diÃ¡logo custom via herencia</li>
        <li>Templates de prompts configurables</li>
        <li>Signals para integraciÃ³n con sistemas del juego</li>
      </ul>

      <h3>4. Offline-First</h3>
      <p>Todo funciona sin conexiÃ³n a internet. Sin APIs externas, sin telemetrÃ­a.</p>

      <hr>

      <a href="../index.html">â† Volver a Home</a>

      <footer class="wiki-footer">
        <p>OhMyDialogSystem Wiki | <a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank">GitHub</a></p>
      </footer>
    </main>
  </div>

  <script src="../ai-bg.js"></script>
</body>
</html>
