<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - OhMyDialogSystem Wiki</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="neural-bg"></canvas>

  <div class="wiki-container">
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo-icon"><img src="logo-eldritch.png" alt="OhMyDialogSystem"></div>
        <div class="sidebar-logo">OhMyDialogSystem</div>
        <div class="sidebar-subtitle">AI-Powered Dialogues</div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">General</div>
        <ul class="nav-links">
          <li><a href="index.html" class="active"><span class="icon">üè†</span> Home</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Getting Started</div>
        <ul class="nav-links">
          <li><a href="Guides/quickstart.html"><span class="icon">üöÄ</span> Quick Start</a></li>
          <li><a href="Guides/installation.html"><span class="icon">üì¶</span> Installation</a></li>
          <li><a href="Guides/first-npc.html"><span class="icon">üéÆ</span> Your First NPC</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">API Reference</div>
        <ul class="nav-links">
          <li><a href="API/index.html"><span class="icon">üìö</span> Overview</a></li>
          <li><a href="API/llama-interface.html"><span class="icon">ü¶ô</span> LlamaInterface</a></li>
          <li><a href="API/dialogue-manager.html"><span class="icon">üí¨</span> DialogueManager</a></li>
          <li><a href="API/memory-manager.html"><span class="icon">üß†</span> MemoryManager</a></li>
          <li><a href="API/tts-manager.html"><span class="icon">üîä</span> TTSManager</a></li>
          <li><a href="API/resources.html"><span class="icon">üìÑ</span> Resources</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Technical</div>
        <ul class="nav-links">
          <li><a href="Technical/index.html"><span class="icon">‚öôÔ∏è</span> Overview</a></li>
          <li><a href="Technical/architecture.html"><span class="icon">üèóÔ∏è</span> Architecture</a></li>
          <li><a href="Technical/dialogue-nodes.html"><span class="icon">üî∑</span> Dialogue Nodes</a></li>
          <li><a href="Technical/gdextension.html"><span class="icon">üîß</span> GDExtension Build</a></li>
          <li><a href="Technical/memory-system.html"><span class="icon">üíæ</span> Memory System</a></li>
          <li><a href="Technical/localization.html"><span class="icon">üåê</span> Localization</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Guides</div>
        <ul class="nav-links">
          <li><a href="Guides/index.html"><span class="icon">üìñ</span> Overview</a></li>
          <li><a href="Guides/visual-editor.html"><span class="icon">üé®</span> Visual Editor</a></li>
          <li><a href="Guides/character-identity.html"><span class="icon">üë§</span> Character Identity</a></li>
          <li><a href="Guides/tts-setup.html"><span class="icon">üé§</span> TTS Setup</a></li>
          <li><a href="Guides/csharp-bindings.html"><span class="icon">üî∑</span> C# Bindings</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Examples</div>
        <ul class="nav-links">
          <li><a href="Guides/example-basic-npc.html"><span class="icon">ü§ñ</span> Basic NPC</a></li>
          <li><a href="Guides/example-branching.html"><span class="icon">üå≥</span> Branching Dialogue</a></li>
          <li><a href="Guides/example-merchant.html"><span class="icon">üõí</span> Dynamic Merchant</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">External Links</div>
        <ul class="nav-links">
          <li><a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank"><span class="icon">üîó</span> GitHub Repository</a></li>
          <li><a href="https://github.com/users/lobinuxsoft/projects/5" target="_blank"><span class="icon">üìã</span> Project Board</a></li>
          <li><a href="https://github.com/lobinuxsoft/OhMyDialogSystem/issues" target="_blank"><span class="icon">üêõ</span> Issues</a></li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <div class="breadcrumbs">
        <a href="index.html">Wiki</a> <span>/</span> <span>Home</span>
      </div>

      <h1>OhMyDialogSystem</h1>

      <p>
        <span class="badge badge-cyan">Godot 4.5+</span>
        <span class="badge badge-purple">GDExtension</span>
        <span class="badge badge-green">MIT License</span>
      </p>

      <div class="ai-box">
        <p><strong>Sistema de di√°logos con IA para Godot</strong> que permite crear NPCs inteligentes con personalidades √∫nicas, memorias persistentes y voces sintetizadas. Potenciado por LLMs locales via llama.cpp.</p>
      </div>

      <hr>

      <h2>Caracter√≠sticas Principales</h2>

      <div class="feature-grid">
        <div class="feature-card">
          <span class="icon">ü¶ô</span>
          <h3>LLM Local</h3>
          <p>Inferencia de modelos GGUF directamente en Godot via llama.cpp. Sin dependencias de APIs externas.</p>
        </div>

        <div class="feature-card">
          <span class="icon">üé®</span>
          <h3>Editor Visual</h3>
          <p>Editor de grafos de di√°logo integrado con nodos de IA, condiciones, eventos y opciones.</p>
        </div>

        <div class="feature-card">
          <span class="icon">üß†</span>
          <h3>Memorias Persistentes</h3>
          <p>Los NPCs recuerdan conversaciones previas con b√∫squeda sem√°ntica de memorias relevantes.</p>
        </div>

        <div class="feature-card">
          <span class="icon">üîä</span>
          <h3>Text-to-Speech</h3>
          <p>Voces sintetizadas offline con Piper TTS. Cada personaje puede tener su propia voz.</p>
        </div>

        <div class="feature-card">
          <span class="icon">üåê</span>
          <h3>Localizaci√≥n</h3>
          <p>Integraci√≥n con TranslationServer de Godot. Prompts y plantillas en m√∫ltiples idiomas.</p>
        </div>

        <div class="feature-card">
          <span class="icon">üî∑</span>
          <h3>Bindings C#</h3>
          <p>API idiom√°tica de C# con async/await, eventos y documentaci√≥n XML completa.</p>
        </div>
      </div>

      <hr>

      <h2>Quick Start</h2>

      <pre data-lang="GDSCRIPT"><code># 1. Cargar el modelo
var llama = LlamaInterface.new()
llama.load_model("user://models/mistral-7b-q4.gguf")

# 2. Configurar el DialogueManager
var dm = DialogueManager.new()
dm.set_llama_interface(llama)
dm.set_character(preload("res://npcs/merchant.tres"))

# 3. Iniciar conversaci√≥n
dm.npc_response_completed.connect(_on_npc_response)
dm.send_player_message("Hola, ¬øqu√© tienes para vender?")</code></pre>

      <div class="callout-info">
        <p>Para una gu√≠a completa de instalaci√≥n y configuraci√≥n, visita <a href="Guides/quickstart.html">Quick Start Guide</a>.</p>
      </div>

      <hr>

      <h2>Arquitectura del Sistema</h2>

      <style>
        .arch-diagram {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 2rem;
          margin: 1.5rem 0;
        }
        .arch-title {
          text-align: center;
          font-family: var(--font-mono);
          font-size: 1.1rem;
          color: var(--ai-cyan);
          margin-bottom: 1.5rem;
          padding-bottom: 1rem;
          border-bottom: 1px solid var(--border-color);
        }
        .arch-layer {
          display: flex;
          justify-content: center;
          gap: 1.5rem;
          margin-bottom: 1rem;
          flex-wrap: wrap;
        }
        .arch-node {
          padding: 0.75rem 1.25rem;
          border-radius: 8px;
          font-family: var(--font-mono);
          font-size: 0.85rem;
          text-align: center;
          border: 1px solid;
          min-width: 120px;
          transition: all 0.3s ease;
        }
        .arch-node:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .arch-node.llm {
          background: rgba(59, 130, 246, 0.1);
          border-color: #3b82f6;
          color: #3b82f6;
        }
        .arch-node.memory {
          background: rgba(168, 85, 247, 0.1);
          border-color: #a855f7;
          color: #a855f7;
        }
        .arch-node.tts {
          background: rgba(16, 185, 129, 0.1);
          border-color: #10b981;
          color: #10b981;
        }
        .arch-node.manager {
          background: linear-gradient(135deg, rgba(0, 212, 255, 0.15), rgba(168, 85, 247, 0.15));
          border-color: var(--ai-cyan);
          color: var(--ai-cyan);
          font-weight: 600;
          padding: 1rem 2rem;
          box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }
        .arch-node.resource {
          background: rgba(107, 114, 128, 0.1);
          border-color: #6b7280;
          color: #9ca3af;
          font-size: 0.8rem;
          min-width: 100px;
        }
        .arch-connector {
          display: flex;
          justify-content: center;
          align-items: center;
          margin: 0.5rem 0;
          color: var(--text-muted);
        }
        .arch-connector.vertical::before {
          content: '‚îÇ';
          font-size: 1.5rem;
        }
        .arch-connector.merge {
          position: relative;
          height: 30px;
        }
        .arch-connector.merge::before {
          content: '';
          position: absolute;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 60%;
          height: 15px;
          border-left: 1px solid var(--text-muted);
          border-right: 1px solid var(--text-muted);
          border-bottom: 1px solid var(--text-muted);
          border-radius: 0 0 8px 8px;
        }
        .arch-connector.merge::after {
          content: '‚îÇ';
          position: absolute;
          bottom: -5px;
          left: 50%;
          transform: translateX(-50%);
          color: var(--text-muted);
        }
        .arch-connector.split {
          position: relative;
          height: 30px;
        }
        .arch-connector.split::before {
          content: '';
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 70%;
          height: 15px;
          border-left: 1px solid var(--text-muted);
          border-right: 1px solid var(--text-muted);
          border-top: 1px solid var(--text-muted);
          border-radius: 8px 8px 0 0;
        }
        .arch-connector.split::after {
          content: '‚îÇ';
          position: absolute;
          top: -5px;
          left: 50%;
          transform: translateX(-50%);
          color: var(--text-muted);
        }
        .arch-label {
          font-size: 0.65rem;
          color: var(--text-muted);
          display: block;
          margin-top: 0.25rem;
        }
      </style>

      <div class="arch-diagram">
        <div class="arch-title">OhMyDialogSystem</div>

        <!-- Layer 1: Core Components -->
        <div class="arch-layer">
          <div class="arch-node llm">
            ü¶ô LLM
            <span class="arch-label">llama.cpp</span>
          </div>
          <div class="arch-node memory">
            üß† Memory
            <span class="arch-label">System</span>
          </div>
          <div class="arch-node tts">
            üîä TTS
            <span class="arch-label">Piper</span>
          </div>
        </div>

        <!-- Connector: Merge -->
        <div class="arch-connector merge"></div>

        <!-- Layer 2: DialogueManager -->
        <div class="arch-layer">
          <div class="arch-node manager">
            üí¨ DialogueManager
          </div>
        </div>

        <!-- Connector: Split -->
        <div class="arch-connector split"></div>

        <!-- Layer 3: Resources -->
        <div class="arch-layer">
          <div class="arch-node resource">
            üë§ Character<br>Identity
          </div>
          <div class="arch-node resource">
            üåç World<br>Context
          </div>
          <div class="arch-node resource">
            üî∑ Dialogue<br>Graph
          </div>
        </div>
      </div>

      <hr>

      <h2>Roadmap</h2>

      <style>
        .sprint-container {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1.5rem;
          margin: 2rem 0;
        }
        .sprint-card {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          overflow: hidden;
          transition: all 0.3s ease;
        }
        .sprint-card:hover {
          border-color: var(--ai-cyan);
          box-shadow: 0 0 20px rgba(0, 212, 255, 0.1);
        }
        .sprint-header {
          padding: 1rem 1.25rem;
          background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(168, 85, 247, 0.1));
          border-bottom: 1px solid var(--border-color);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .sprint-title {
          font-weight: 600;
          font-size: 1rem;
          color: var(--ai-cyan);
        }
        .sprint-count {
          font-size: 0.75rem;
          color: var(--text-muted);
          background: rgba(0,0,0,0.2);
          padding: 0.25rem 0.5rem;
          border-radius: 4px;
        }
        .sprint-tasks {
          padding: 0.75rem;
          max-height: 300px;
          overflow-y: auto;
        }
        .sprint-task {
          display: flex;
          align-items: flex-start;
          gap: 0.5rem;
          padding: 0.5rem;
          border-radius: 6px;
          font-size: 0.8rem;
          transition: background 0.2s;
        }
        .sprint-task:hover {
          background: rgba(255,255,255,0.03);
        }
        .task-order {
          min-width: 20px;
          height: 20px;
          border-radius: 4px;
          background: rgba(0, 212, 255, 0.2);
          color: var(--ai-cyan);
          font-size: 0.7rem;
          font-weight: 600;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .task-tag {
          font-size: 0.65rem;
          padding: 0.15rem 0.35rem;
          border-radius: 3px;
          font-weight: 500;
        }
        .task-tag.core { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .task-tag.editor { background: rgba(168, 85, 247, 0.2); color: #a855f7; }
        .task-tag.ai { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .task-name {
          flex: 1;
          color: var(--text-body);
          line-height: 1.3;
        }
        .task-issue {
          font-size: 0.7rem;
          color: var(--text-muted);
          font-family: var(--font-mono);
          text-decoration: none;
          transition: color 0.2s;
        }
        .task-issue:hover {
          color: var(--ai-cyan);
        }
        .sprint-task.done {
          opacity: 0.6;
        }
        .sprint-task.done .task-name {
          text-decoration: line-through;
        }
        .sprint-task.done .task-order {
          background: rgba(16, 185, 129, 0.3);
          color: #10b981;
        }
        .milestone-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 1rem;
          margin: 1.5rem 0;
        }
        .milestone-card {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 8px;
          padding: 1rem;
          transition: all 0.3s;
        }
        .milestone-card:hover {
          border-color: var(--ai-purple);
        }
        .milestone-card .name {
          font-weight: 600;
          font-size: 0.9rem;
          margin-bottom: 0.5rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .milestone-card .progress-bar {
          height: 6px;
          background: rgba(255,255,255,0.1);
          border-radius: 3px;
          overflow: hidden;
          margin-bottom: 0.5rem;
        }
        .milestone-card .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, var(--ai-cyan), var(--ai-purple));
          border-radius: 3px;
          transition: width 0.5s ease;
        }
        .milestone-card .desc {
          font-size: 0.75rem;
          color: var(--text-muted);
        }
      </style>

      <h3>Plan de Implementacion por Sprints</h3>
      <p id="roadmap-summary" style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1.5rem;">
        Cargando datos del roadmap...
      </p>

      <div id="sprint-container" class="sprint-container">
        <!-- Sprints are loaded dynamically from roadmap-data.json -->
        <div class="sprint-card" style="opacity: 0.5;">
          <div class="sprint-header">
            <span class="sprint-title">Cargando...</span>
          </div>
          <div class="sprint-tasks" style="padding: 2rem; text-align: center; color: var(--text-muted);">
            Los datos se cargan desde GitHub
          </div>
        </div>
      </div>

      <h3>Progreso por Milestone</h3>

      <div id="milestone-grid" class="milestone-grid">
        <!-- Milestones are loaded dynamically from roadmap-data.json -->
        <div class="milestone-card" style="opacity: 0.5;">
          <div class="name"><span>Cargando...</span></div>
          <div class="progress-bar"><div class="progress-fill" style="width: 0%;"></div></div>
        </div>
      </div>

      <div class="callout-info">
        <p>Datos actualizados automaticamente desde el <a href="https://github.com/users/lobinuxsoft/projects/5" target="_blank">Project Board en GitHub</a>.
        <span id="roadmap-updated" style="font-size: 0.8rem; opacity: 0.7;"></span></p>
      </div>

      <script>
        // Roadmap data loader
        (function() {
          const REPO_URL = 'https://github.com/lobinuxsoft/OhMyDialogSystem';
          const DATA_URL = 'roadmap-data.json';

          // Detect component from labels or title
          function getComponent(issue) {
            const labels = issue.labels || [];
            const title = issue.title || '';

            if (labels.includes('gdextension') || labels.includes('ai')) return 'ai';
            if (labels.includes('editor') || title.includes('[Editor]')) return 'editor';
            if (labels.includes('core') || title.includes('[Core]')) return 'core';
            if (title.includes('[AI]')) return 'ai';
            return 'core';
          }

          // Clean title (remove [Component] prefix)
          function cleanTitle(title) {
            return title.replace(/^\[(Core|Editor|AI)\]\s*/i, '');
          }

          // Render sprints
          function renderSprints(sprints, issues) {
            const container = document.getElementById('sprint-container');
            if (!sprints || sprints.length === 0) {
              container.innerHTML = '<p style="color: var(--text-muted);">No hay sprints configurados.</p>';
              return;
            }

            const totalTasks = issues ? issues.length : sprints.reduce((acc, s) => acc + s.issues.length, 0);
            document.getElementById('roadmap-summary').textContent =
              `${totalTasks} tareas organizadas intercalando Core y Editor para desarrollo equilibrado.`;

            container.innerHTML = sprints.map(sprint => `
              <div class="sprint-card">
                <div class="sprint-header">
                  <span class="sprint-title">${sprint.sprint}</span>
                  <span class="sprint-count">${sprint.issues.length} tareas</span>
                </div>
                <div class="sprint-tasks">
                  ${sprint.issues.map(issue => {
                    const component = getComponent(issue);
                    const order = issue.fields?.Order || '?';
                    const status = issue.state === 'CLOSED' ? 'done' : '';
                    return `
                      <div class="sprint-task ${status}">
                        <span class="task-order">${order}</span>
                        <span class="task-tag ${component}">${component.charAt(0).toUpperCase() + component.slice(1)}</span>
                        <span class="task-name">${cleanTitle(issue.title)}</span>
                        <a href="${REPO_URL}/issues/${issue.number}" target="_blank" class="task-issue">#${issue.number}</a>
                      </div>
                    `;
                  }).join('')}
                </div>
              </div>
            `).join('');
          }

          // Render milestones
          function renderMilestones(milestones) {
            const container = document.getElementById('milestone-grid');
            if (!milestones || milestones.length === 0) {
              container.innerHTML = '<p style="color: var(--text-muted);">No hay milestones configurados.</p>';
              return;
            }

            container.innerHTML = milestones.map(m => `
              <div class="milestone-card">
                <div class="name">
                  <span>M${m.number}: ${m.title.replace(/^M\d+[:\s-]*/i, '')}</span>
                  <span class="badge ${m.progress > 50 ? 'badge-cyan' : 'badge-purple'}">${m.progress}%</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: ${m.progress}%;"></div>
                </div>
                <div class="desc">${m.description || `${m.closed}/${m.open + m.closed} completadas`}</div>
              </div>
            `).join('');
          }

          // Format date
          function formatDate(isoDate) {
            if (!isoDate) return '';
            const date = new Date(isoDate);
            return `Actualizado: ${date.toLocaleDateString('es-ES', {
              day: 'numeric', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit'
            })}`;
          }

          // Load data
          fetch(DATA_URL)
            .then(res => {
              if (!res.ok) throw new Error('No roadmap data available');
              return res.json();
            })
            .then(data => {
              renderSprints(data.sprints, data.issues);
              renderMilestones(data.milestones);
              document.getElementById('roadmap-updated').textContent = formatDate(data.updated_at);
            })
            .catch(err => {
              console.warn('Roadmap data not available:', err);
              document.getElementById('roadmap-summary').innerHTML =
                'No se pudieron cargar los datos. <a href="' + REPO_URL + '/issues" target="_blank">Ver issues en GitHub</a>';
              document.getElementById('sprint-container').innerHTML = '';
              document.getElementById('milestone-grid').innerHTML = '';
            });
        })();
      </script>

      <hr>

      <h2>Navegaci√≥n R√°pida</h2>

      <h3>Para Empezar</h3>
      <ul>
        <li><a href="Guides/quickstart.html">üöÄ Quick Start Guide</a> - Tu primer NPC en 10 minutos</li>
        <li><a href="Guides/installation.html">üì¶ Installation</a> - Instalaci√≥n del addon y modelos</li>
      </ul>

      <h3>Documentaci√≥n T√©cnica</h3>
      <ul>
        <li><a href="API/index.html">üìö API Reference</a> - Referencia completa de todas las clases</li>
        <li><a href="Technical/architecture.html">üèóÔ∏è Architecture</a> - Arquitectura del sistema</li>
        <li><a href="Technical/gdextension.html">üîß GDExtension Build</a> - Compilar el addon</li>
      </ul>

      <h3>Gu√≠as Pr√°cticas</h3>
      <ul>
        <li><a href="Guides/visual-editor.html">üé® Visual Editor</a> - Usar el editor de grafos</li>
        <li><a href="Guides/character-identity.html">üë§ Character Identity</a> - Definir personalidades</li>
        <li><a href="Guides/tts-setup.html">üé§ TTS Setup</a> - Configurar voces</li>
      </ul>

      <hr>

      <h2>Requisitos</h2>

      <table>
        <thead>
          <tr>
            <th>Componente</th>
            <th>Versi√≥n</th>
            <th>Notas</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Godot Engine</td>
            <td>4.5+</td>
            <td>Requerido para GDExtension 4.3+</td>
          </tr>
          <tr>
            <td>Modelo LLM</td>
            <td>GGUF Q4/Q5/Q8</td>
            <td>Recomendado: Mistral 7B o similar</td>
          </tr>
          <tr>
            <td>RAM</td>
            <td>8GB+</td>
            <td>16GB recomendado para modelos grandes</td>
          </tr>
          <tr>
            <td>GPU (opcional)</td>
            <td>CUDA/Vulkan</td>
            <td>Para aceleraci√≥n de inferencia</td>
          </tr>
        </tbody>
      </table>

      <hr>

      <em>√öltima actualizaci√≥n: Diciembre 2025</em>

      <footer class="wiki-footer">
        <p>OhMyDialogSystem Wiki | <a href="https://github.com/lobinuxsoft/OhMyDialogSystem" target="_blank">GitHub</a></p>
        <p>MIT License - Made with üß† by lobinuxsoft</p>
      </footer>
    </main>
  </div>

  <script src="ai-bg.js"></script>
</body>
</html>
